# 문제 해결 원칙 (Troubleshooting Principles)

## 🎯 핵심 원칙
**FM대로 복잡하게 생각하지말고 문제 해결할때에는 최대한 단순하고 명확한것을 추구하자**

---

## 문제 해결 체크리스트

### 1. 근본 원인 찾기
- [ ] 증상이 아닌 **원인**을 찾았는가?
- [ ] 로그를 꼼꼼히 읽었는가?
- [ ] 에러 메시지가 말하는 것이 무엇인가?

### 2. 단순한 해결책 우선
- [ ] 한 곳에서 해결 가능한가?
- [ ] 여러 파일에 방어 코드를 뿌리고 있지는 않은가?
- [ ] 더 간단한 방법이 있는가?

### 3. 비동기 작업 확인
- [ ] 완료를 기다려야 하는 작업인가?
- [ ] Race condition 가능성이 있는가?
- [ ] async/await가 필요한가?

---

## 실제 사례

### Electron MQTT 새로고침 문제 (2024-12)

**문제**: 페이지 새로고침 시 MQTT 연결 먹통

**❌ 복잡한 접근**:
- 버퍼링 로직 추가
- 상태 리셋 로직 추가
- 여러 파일에 방어 코드

**✅ 단순한 해결**:
```typescript
// disconnect → connect race condition
// 해결: disconnectAsync()로 완료 대기
await this.disconnectAsync();
// 이제 안전하게 connect 가능
```

**교훈**: `disconnect()` → `connect()` 사이에 연결 종료를 기다리지 않아서 발생. 한 곳(`client.ts`)에서 `disconnectAsync()` 추가로 해결.

---

## 적용 시점
- 복잡한 버그 디버깅
- 간헐적 이슈 해결
- 레이스 컨디션 의심 시
- 여러 곳에 코드를 추가하려 할 때
